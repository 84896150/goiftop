<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Interface Flow Top GUI</title>
    <link href="./lib/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="./lib/tabulator.min.js"></script>
    <script type="text/javascript" src="./lib/jquery-3.4.0.min.js"></script>
</head>
<body>
<h2>Interface Flow Top</h2>
<h3>Layer 3 Flows</h3>
<div id="l3flow-table"></div>
<h3>Layer 4 Flows</h3>
<div id="l4flow-table"></div>
<script type="text/javascript">
    var l3Table = new Tabulator("#l3flow-table", {
        ajaxURL: "l3flow",
        ajaxConfig: "GET",
        ajaxContentType: "json",
        layout: "fitColumns",
        columns: [
            {title: "Type", field: "Type", align: "left"},
            {title: "SourceAddress", field: "SourceAddress", align: "left"},
            {title: "DestinationAddress", field: "DestinationAddress", align: "left"},
            {title: "UpStreamRate (bps)", field: "UpStreamRate", align: "left"},
            {title: "DownStreamRate (bps)", field: "DownStreamRate", align: "left"},
        ],
    });

    var l4table = new Tabulator("#l4flow-table", {
        ajaxURL: "l4flow",
        ajaxConfig: "GET",
        ajaxContentType: "json",
        layout: "fitColumns",
        columns: [
            {title: "Type", field: "Type", align: "left"},
            {title: "SourceAddress", field: "SourceAddress", align: "left"},
            {title: "DestinationAddress", field: "DestinationAddress", align: "left"},
            {title: "UpStreamRate (bps)", field: "UpStreamRate", align: "left"},
            {title: "DownStreamRate (bps)", field: "DownStreamRate", align: "left"},
        ],
    });

    setInterval(function () {
        l3Table.replaceData();
        l4table.replaceData();
    }, 1000);
</script>
</body>
</html>

